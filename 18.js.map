{"version":3,"file":"18.js","sources":["webpack:///./src/views/result/pivot.vue?67ae","webpack:///./src/views/result/pivot.vue?6d3c","webpack:///./src/api/results.js","webpack:///./src/views/result/pivot.vue","webpack:///./src/views/result/pivot.vue?6aa7","webpack:///./src/views/result/pivot.vue?7356"],"sourcesContent":["import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport { resultsList } from '@/api/results';\nimport { VuePivottable, VuePivottableUi } from 'vue-pivottable';\nimport 'vue-pivottable/dist/vue-pivottable.css';\nexport default {\n  name: 'ResultPivot',\n  components: {\n    // eslint-disable-next-line vue/no-unused-components\n    VuePivottable: VuePivottable,\n    VuePivottableUi: VuePivottableUi\n  },\n  data: function data() {\n    var dateFormat = function dateFormat(field, format) {\n      return function (record) {\n        return Vue.moment(record[field]).format(format);\n      };\n    };\n\n    return {\n      aggregatorName: 'Count',\n      pivotData: [],\n      rendererName: 'Table Heatmap',\n      rows: ['campaign'],\n      cols: ['exec.verdict'],\n      derivedAttributes: {\n        'year': dateFormat('cre.time', 'YYYY'),\n        'month': dateFormat('cre.time', 'M'),\n        'day': dateFormat('cre.time', 'D'),\n        'month name': dateFormat('cre.time', 'MMM'),\n        'day name': dateFormat('cre.time', 'ddd'),\n        'Week number': dateFormat('cre.time', 'W')\n      },\n      hiddenAttributes: ['exec.logs']\n    };\n  },\n  created: function created() {\n    this.refreshData();\n  },\n  methods: {\n    bin: function bin(value, binWidth) {\n      return value - value % binWidth;\n    },\n    refreshData: function refreshData() {\n      var _this = this;\n\n      var query = {\n        fl: true,\n        s: {\n          'cre.time': -1\n        }\n      };\n      resultsList(query).then(function (_ref) {\n        var data = _ref.data;\n\n        var results = _this._.map(data, function (r) {\n          // not need these keys\n          delete r['__v'];\n          delete r['_id._bsontype'];\n          delete r['_id.id']; // round duration by 10s\n\n          r.duration = _this.bin(parseFloat(r['exec.duration']), 10);\n          delete r['exec.duration'];\n          var components = [];\n          var features = [];\n\n          for (var _i = 0, _Object$keys = Object.keys(r); _i < _Object$keys.length; _i++) {\n            var k = _Object$keys[_i];\n\n            if (k.match(/\\.\\d/)) {\n              if (k.match(/\\.fut\\.\\d/)) {\n                features.push(r[k].toLowerCase());\n              }\n\n              if (k.match(/\\.cut\\.\\d/)) {\n                components.push(r[k].toLowerCase());\n              }\n\n              delete r[k];\n            }\n          }\n\n          delete r['exec.sut.tag'];\n          delete r['exec.sut.cut'];\n          delete r['exec.sut.fut'];\n          r.component = components.sort().join(',');\n          r.feature = features.sort().join(',');\n          r.passrate = r['exec.verdict'] === 'pass' ? 100.0 : 0;\n          r.inconcRate = r['exec.verdict'] === 'inconclusive' ? 100.0 : 0;\n          return r;\n        });\n\n        _this.pivotData = results;\n      });\n    },\n    toggle: function toggle(todo) {\n      todo.done = !todo.done;\n    }\n  }\n};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"app-container\" },\n    [\n      _c(\"h3\", [_vm._v(\"Results Pivottable\")]),\n      _vm._v(\" \"),\n      _c(\"vue-pivottable-ui\", {\n        attrs: {\n          data: _vm.pivotData,\n          cols: _vm.cols,\n          rows: _vm.rows,\n          \"hidden-attributes\": _vm.hiddenAttributes,\n          \"aggregator-name\": _vm.aggregatorName,\n          \"renderer-name\": _vm.rendererName,\n          \"derived-attributes\": _vm.derivedAttributes\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport request from '@/utils/request';\nexport function searchResult(id) {\n  return request({\n    url: \"/api/v0/results/\".concat(id),\n    method: 'get'\n  });\n}\nexport function getSchema(_) {\n  return request({\n    url: \"/api/v0/schemas/Result.json\",\n    method: 'get'\n  }).then(function (_ref) {\n    var data = _ref.data;\n    var schema = data.schema;\n\n    var fill = function fill(key, _ref2) {\n      var title = _ref2.title,\n          _ref2$def = _ref2.def,\n          def = _ref2$def === void 0 ? '' : _ref2$def;\n      key = key.split('.').join('.properties.');\n\n      _.set(schema, \"properties.\".concat(key, \".title\"), title);\n\n      _.set(schema, \"properties.\".concat(key, \".default\"), def);\n    };\n\n    var drop = function drop(key) {\n      key = key.split('.').join('.properties.');\n\n      _.unset(schema, \"properties.\".concat(key));\n    };\n\n    var dropKeys = function dropKeys(keys) {\n      keys.forEach(drop);\n    };\n\n    fill('tcid', {\n      title: 'Testcase ID'\n    });\n    fill('campaign', {\n      title: 'Campaign'\n    });\n    fill('job.id', {\n      title: 'Job ID'\n    });\n    fill('exec.duration', {\n      title: 'Duration'\n    });\n    fill('exec.verdict', {\n      title: 'Verdict'\n    });\n    fill('exec.env.framework.name', {\n      title: 'Framework name'\n    });\n    fill('exec.env.framework.ver', {\n      title: 'Framework Version'\n    });\n    fill('exec.env.rackId', {\n      title: 'Rack ID'\n    });\n    fill('exec.note', {\n      title: 'Note'\n    });\n    fill('exec.sut.gitUrl', {\n      title: 'git uri'\n    });\n    fill('exec.sut.buildName', {\n      title: 'build name'\n    });\n    fill('exec.sut.buildDate', {\n      title: 'build date'\n    });\n    fill('exec.sut.branch', {\n      title: 'branch'\n    });\n    dropKeys(['exec.env.ref', 'exec.sut.ref', 'tcRef', '_id', 'campaignRef', 'cre', 'exec.dut']);\n    return schema;\n  });\n}\nexport function resultsList(query) {\n  return request({\n    url: '/api/v0/results',\n    method: 'get',\n    params: query\n  });\n}","import { render, staticRenderFns } from \"./pivot.vue?vue&type=template&id=eaed562c&\"\nimport script from \"./pivot.vue?vue&type=script&lang=js&\"\nexport * from \"./pivot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/opentmi-default-gui/opentmi-default-gui/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('eaed562c')) {\n      api.createRecord('eaed562c', component.options)\n    } else {\n      api.reload('eaed562c', component.options)\n    }\n    module.hot.accept(\"./pivot.vue?vue&type=template&id=eaed562c&\", function () {\n      api.rerender('eaed562c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/result/pivot.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pivot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pivot.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"fc6c80c8-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pivot.vue?vue&type=template&id=eaed562c&\""],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrHA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}