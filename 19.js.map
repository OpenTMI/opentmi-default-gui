{"version":3,"file":"19.js","sources":["webpack:///./src/views/testcase/list.vue?950b","webpack:///./src/views/testcase/list.vue?1562","webpack:///./src/api/testcases.js","webpack:///./src/views/testcase/list.vue","webpack:///./src/views/testcase/list.vue?5c38","webpack:///./src/views/testcase/list.vue?226a"],"sourcesContent":["import _defineProperty from \"/home/runner/work/opentmi-default-gui/opentmi-default-gui/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { testList } from '@/api/testcases';\nimport VueJsonPretty from 'vue-json-pretty';\nimport 'vue-json-pretty/lib/styles.css';\nexport default {\n  name: 'TestcaseList',\n  components: {\n    VueJsonPretty: VueJsonPretty\n  },\n  data: function data() {\n    return {\n      selectedColumns: [],\n      fields: [{\n        key: 'cre.time',\n        sortable: true,\n        label: 'Created at'\n      }, {\n        key: 'tcid',\n        sortable: true\n      }, {\n        key: 'other_info.type',\n        sortable: true,\n        label: 'Test Type'\n      }, {\n        key: 'status.value',\n        sortable: true,\n        label: 'Status'\n      }, {\n        key: 'other_info.description',\n        sortable: false,\n        label: 'Description'\n      }],\n      total: 0,\n      sortBy: 'tcid',\n      sortDesc: false,\n      listLoading: false,\n      listQuery: {\n        page: 1,\n        limit: 20\n      }\n    };\n  },\n  methods: {\n    rowClicked: function rowClicked(row) {\n      this.$set(row, '_showDetails', !row._showDetails);\n    },\n    updateList: function updateList(page) {\n      this.listQuery.page = page;\n      this.$root.$emit('bv::refresh::table', 'my-table');\n    },\n    getList: function getList() {\n      var _this = this;\n\n      var query = this._.clone(this.listQuery);\n\n      query.l = query.limit;\n      query.sk = (query.page - 1) * query.limit;\n\n      if (this.sortBy) {\n        query.s = _defineProperty({}, this.sortBy, this.sortDesc ? -1 : 1);\n      } else {\n        query.s = '{\"cre.time\": -1}';\n      }\n\n      this._.unset(query, 'limit');\n\n      this._.unset(query, 'page');\n\n      var countQuery = this._.merge({\n        t: 'count'\n      }, this._.omit(query, ['s', 'l', 'sk']));\n\n      return testList(countQuery).then(function (_ref) {\n        var data = _ref.data;\n        _this.total = data.count;\n        return testList(query);\n      }).then(function (_ref2) {\n        var data = _ref2.data;\n        return data;\n      }).catch(function (error) {\n        console.error(error);\n        _this.total = 0; // Returning an empty array, allows table to correctly handle\n        // internal busy state in case of error\n\n        return [];\n      });\n    }\n  }\n};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"app-container\" },\n    [\n      _c(\"b-table\", {\n        staticClass: \"mt-3\",\n        attrs: {\n          id: \"my-table\",\n          striped: \"true\",\n          bordered: \"true\",\n          \"head-variant\": \"light\",\n          small: \"true\",\n          hover: \"\",\n          items: _vm.getList,\n          fields: _vm.fields,\n          busy: _vm.listLoading,\n          responsive: \"sm\",\n          \"no-local-sorting\": \"\",\n          \"primary-key\": \"_id\",\n          \"sort-changed\": _vm.listLoading,\n          \"sort-by\": _vm.sortBy,\n          \"sort-desc\": _vm.sortDesc,\n          selectable: \"\",\n          \"select-mode\": \"single\"\n        },\n        on: {\n          \"update:busy\": function($event) {\n            _vm.listLoading = $event\n          },\n          \"update:sortBy\": function($event) {\n            _vm.sortBy = $event\n          },\n          \"update:sort-by\": function($event) {\n            _vm.sortBy = $event\n          },\n          \"update:sortDesc\": function($event) {\n            _vm.sortDesc = $event\n          },\n          \"update:sort-desc\": function($event) {\n            _vm.sortDesc = $event\n          },\n          \"row-clicked\": _vm.rowClicked\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"cell(cre.time)\",\n            fn: function(data) {\n              return [\n                _c(\"i\", [\n                  _vm._v(\n                    _vm._s(_vm._f(\"moment\")(data.value, \"MM/DD/YYYY hh:mm\"))\n                  )\n                ])\n              ]\n            }\n          },\n          {\n            key: \"table-busy\",\n            fn: function() {\n              return [\n                _c(\n                  \"div\",\n                  { staticClass: \"text-center text-danger my-2\" },\n                  [\n                    _c(\"b-spinner\", { staticClass: \"align-middle\" }),\n                    _vm._v(\" \"),\n                    _c(\"strong\", [_vm._v(\"Loading...\")])\n                  ],\n                  1\n                )\n              ]\n            },\n            proxy: true\n          },\n          {\n            key: \"cell(show_details)\",\n            fn: function(row) {\n              return [\n                _c(\n                  \"b-button\",\n                  {\n                    staticClass: \"mr-2\",\n                    attrs: { size: \"sm\" },\n                    on: { click: row.toggleDetails }\n                  },\n                  [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(row.detailsShowing ? \"Hide\" : \"Show\") +\n                        \" Details\\n      \"\n                    )\n                  ]\n                )\n              ]\n            }\n          },\n          {\n            key: \"row-details\",\n            fn: function(row) {\n              return [\n                _c(\"vue-json-pretty\", {\n                  attrs: {\n                    data: row.item,\n                    deep: 3,\n                    \"deep-collapse-children\": true,\n                    \"show-length\": true,\n                    \"show-double-quotes\": false\n                  }\n                })\n              ]\n            }\n          }\n        ])\n      }),\n      _vm._v(\" \"),\n      _c(\"b-pagination\", {\n        attrs: {\n          \"total-rows\": _vm.total,\n          \"per-page\": _vm.listQuery.limit,\n          \"aria-controls\": \"my-table\",\n          \"first-number\": \"\",\n          \"last-number\": \"\"\n        },\n        on: { change: _vm.updateList },\n        model: {\n          value: _vm.listQuery.page,\n          callback: function($$v) {\n            _vm.$set(_vm.listQuery, \"page\", $$v)\n          },\n          expression: \"listQuery.page\"\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import request from '@/utils/request';\nexport function searchTests(id) {\n  return request({\n    url: \"/api/v0/testcases/\".concat(id),\n    method: 'get'\n  });\n}\nexport function testList(query) {\n  return request({\n    url: '/api/v0/testcases',\n    method: 'get',\n    params: query\n  });\n}","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=859222be&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/opentmi-default-gui/opentmi-default-gui/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('859222be')) {\n      api.createRecord('859222be', component.options)\n    } else {\n      api.reload('859222be', component.options)\n    }\n    module.hot.accept(\"./list.vue?vue&type=template&id=859222be&\", function () {\n      api.rerender('859222be', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/testcase/list.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"fc6c80c8-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=template&id=859222be&\""],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzJA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9IA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}